<!-- Imports polymer -->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-dialog/paper-dialog.html">
<link rel="import" href="../paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-dialog-behavior/paper-dialog-behavior.html">
<link rel="import" href="../paper-header-panel/paper-header-panel.html">
<link rel="import" type="css" href="cookies-legal-element.css">

<!-- Defines element markup -->
<dom-module id="cookies-legal-element">
    <template>
    <template is="dom-if" if={{show}}>
        <paper-header-panel class="flex">
            <paper-toolbar>
              <div>
                This site uses cookies. By using this site, you agree to our use of cookies.
                <paper-button raised>Read more</paper-button>
                <paper-button raised on-click="confirm">Accept</paper-button>
              </div>
            </paper-toolbar>
          </paper-header-panel>
      </template>
    </template>
</dom-module>

<!-- Registers custom element -->
<script>
Polymer({
    is: 'cookies-legal-element',

    behaviors: [
      //Polymer.PaperDialogBehavior
    ],
    confirm: function function_name (argument) {
        localStorage.acceptCookies = true;
        console.log('accept cookies');
    },

    // Fires when an instance of the element is created
    created: function() {

       
    },
    // Fires when the local DOM has been fully prepared
    ready: function() {
        if(!localStorage.acceptCookies){
            this.show = true;
        }
    },

    // Fires when the element was inserted into the document
    attached: function() {},

    // Fires when the element was removed from the document
    detached: function() {},

    // Fires when an attribute was added, removed, or updated
    attributeChanged: function(attr, oldVal, newVal) {
    }
});
</script>
